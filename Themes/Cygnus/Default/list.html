<!-- List item -->
[<tag type="if" function="productcount" modulekey="ProductView" testvalue="0" display="{OFF}" />]<!-- Hide product list when current category has zero items -->

<ul class="product" style="width:[Settings:itemwidth]px;height:[Settings:itemheight];margin-bottom:[Settings:itembottommargin]px"><!-- Product container -->

	[<tag type="if" function="isinrole" role="Administrator|Registered Users" display="{ON}" displayelse="{OFF}" />]<!-- Edit button requires nbs namespace -->
	<li class="edit">[<tag resourcekey="ProductView.editicon" type="nbs:editlink"  />]</li>[<tag type="endtestof" />]
	
<a href="[<tag type='entryurl' tabid='{Settings:ddldetailtabid}' xpath='genxml/lang/genxml/textbox/txtproductname' modkey='{Settings:detailmodulekey}' />]" class="entryurl"><!-- Link to details -->
	
	[<tag type="if" function="imgexists" testvalue="1" display="{ON}" displayelse="{OFF}" />]<!-- Image -->
	<li class="image" style="width:[Settings:itemwidth]px;height:[Settings:itemimagecontainerheight]"><img title="[<tag type='summary' />]" src="[<tag type='thumbnail' w='{Settings:thumbnailwidth}' h='{Settings:thumbnailheight}' />]"></li>
	[<tag type="endif" />]
	
	[<tag type="if" function="imgexists" testvalue="1" display="{OFF}" displayelse="{ON}" />]<!-- When no image is present -->
	<li class="noimage" style="width:[Settings:itemwidth]px;height:[Settings:itemimagecontainerheight]">
	[<tag type='testof' settings='placeholderimage' testvalue='True' display='{ON}' displayelse='{OFF}' />]
	[Settings:noimageicon]
	[<tag type="endif" />]
	</li>
	[<tag type="endif" />]
	
	<li class="title"><!-- Manufacturer and Title -->
	[<tag type="if" xpath="genxml/lang/genxml/textbox/txtmanufacturer" testvalue="" display="{OFF}" displayelse="{ON}" />]
	<div class="manufacturer">[<tag type="manufacturer" />]</div>
	[<tag type="endif" />]
	<div class="name">[<tag type="productname" />]</div></li>
	
<!-- Begin Pricing for Retail, Sale and Dealer -->
	[<tag type="if" function="settings" key="cataloguemode" testvalue="True" display="{OFF}" />]<!-- Hide all prices, models and options in catalogue mode -->
	
		[<tag type="if" function="price" testvalue="0.00" display="{OFF}" />]<!-- If price is zero then hide all prices -->
		
		[<tag type="if" function="isinrole" role="Dealer" display="{OFF}" displayelse="{ON}" />]<!-- Hide retail and sale section from dealer -->
		
		[<tag type="if" function="isonsale" display="{OFF}" displayelse="{ON}" />]<!-- Hide this retail price when on sale -->
		<li class="price"><span class="retail">[<tag type="if" function="hasmodelsoroptions" display="{ON}" />][<tag type="label" resourcekey="ProductView.from" />] [<tag type="endif" />][<tag type="price" />]</span></li><!-- Retail Price -->
		[<tag type="endif"  />]
		
		[<tag type="if" function="isonsale" display="{ON}" displayelse="{OFF}" />]<!-- Sale Price -->
		<li class="price"><span class="old">[<tag type="price" />]</span>
		<span class="sale">[<tag type="label" resourcekey="ProductView.onsale" />] [<tag type="if" function="hasmodelsoroptions" display="{ON}" />][<tag type="label" resourcekey="ProductView.fromlower" />] [<tag type="endif" />][<tag type="saleprice" />]</span>
		</li>
		[<tag type="endif"  />]
		
		[<tag type="endif"  />]<!-- End hide retail and sale section from dealer -->
		
		[<tag type="if" function="isinrole" role="Dealer" display="{ON}" displayelse="{OFF}" />]<!-- Dealer Price -->
		<li class="price"><span class="dealer">[<tag type="if" function="hasmodelsoroptions" display="{ON}" />][<tag type="label" resourcekey="ProductView.from" />] [<tag type="endif" />][<tag type="dealerprice" />]</span></li>
		[<tag type="endif"  />]		
		
		[<tag type="if" function="price" testvalue="0.00" display="{ON}" />]<!-- If price is zero then display contact message -->
		<li class="price"><span class="zero"><a href="mailto:[TAG:SETTING:merchant.email]?subject=Price request - [<tag type='productname' />]&amp;body=Please inform me of the price of the [<tag type='productname' />] at [<tag type='websiteurl' />][<tag type='entryurl' />] on this page: [<tag type='websiteurl' />]">Email for price</a></span>
		</li>
		[<tag type="endif"  />]
		
		[<tag type="endif"  />]<!-- End If price is zero then hide all prices -->
		
<!-- End Pricing for Retail, Sale and Dealer -->
		
		[<tag type="if" function="isonsale" display="{ON}" displayelse="{OFF}" />]<!-- Sale flag -->
		<li class="onsaleflag">[<tag type="label" resourcekey="ProductView.onsaleflag" />]</li>
		[<tag type="endif" />]

		[<tag type="if" function="isinstock" testvalue="0" display="{OFF}"/>]<!-- Out of stock flag -->
		<li class="outofstockflag">[<tag type="label" resourcekey="ProductView.outofstockflag" />]</li>
		[<tag type="endif" />]
		
	[<tag type="endif"  />]<!-- End Hide all prices, models and options in catalogue mode -->
</a>
</ul>
[<tag type="endif"  />]<!-- End hide product list when current category has zero items -->
