<!-- List item -->

<div class="product" style="width:[Settings:classicitemwidth]px;height:[Settings:classicitemheight];margin-bottom:[Settings:classicitembottommargin]px"><!-- Product container -->

	[<tag type="if" function="isinrole" role="Administrator|Registered Users" display="{ON}" displayelse="{OFF}" />]<!-- Edit button requires nbs namespace -->
	<div class="edit">[<tag resourcekey="ProductView.editicon" type="nbs:editlink"  />]</div>
  [<tag type="endif" />]
	
  <div class="productimg" style="width:294px;height:[Settings:classicitemimagecontainerheight]">

  <div class="productimg-overlay">
  [<tag type="if" function="settings" key="enablefavorites" testvalue="True" display="{ON}" />]
	[<tag type="itemlistadd" cssclass="wishlistadd" resourcekey="ProductView.wishlistaddicon-lg" listname="wishlist" />]
  [<tag type="itemlistremove" CssClass="wishlistremove" resourcekey="ProductView.wishlistremoveicon-lg" listname="wishlist" />]
  [<tag type="endif" />]
  [<tag type="if" function="settings" key="cataloguemode" testvalue="True" display="{OFF}" />]<!-- Catalogue mode -->
  [<tag type="if" function="hasmodelsoroptions" display="{OFF}" />]
  [<tag type="linkbutton" resourcekey="ProductView.addtobasketicon-lg" commandname="addtobasket" commandargument="ItemID" />]
  [<tag type="endif"  />]
  [<tag type="endif"  />]<!-- End Catalogue mode -->
  <a href="[<tag type='entryurl' tabid='{Settings:ddldetailtabid}' xpath='genxml/lang/genxml/textbox/txtproductname' modkey='{Settings:detailmodulekey}' />]">[<tag type="label" resourcekey="ProductView.viewicon-lg" />]</a>
  </div>

	[<tag type="if" function="imgexists" testvalue="1" display="{ON}" displayelse="{OFF}" />]<!-- Image -->
	<div class="image" style="height:[Settings:classicitemimagecontainerheight]"><img title="[<tag type='summary' />]" src="[<tag type='thumbnail' w='{Settings:classicthumbnailwidth}' h='{Settings:classicthumbnailheight}' />]"></div>
	[<tag type="endif" />]
	
	[<tag type="if" function="imgexists" testvalue="1" display="{OFF}" displayelse="{ON}" />]<!-- When no image is present -->
	<div class="noimage" style="height:[Settings:classicitemimagecontainerheight]">
	[<tag type='testof' settings='placeholderimage' testvalue='True' display='{ON}' displayelse='{OFF}' />]
	[Settings:noimageicon]
	[<tag type="endif" />]
	</div>
	[<tag type="endif" />]

  </div>
	
	<div class="description">
  <h1><a href="[<tag type='entryurl' tabid='{Settings:ddldetailtabid}' xpath='genxml/lang/genxml/textbox/txtproductname' modkey='{Settings:detailmodulekey}' />]">[<tag type="productname" />]</a></h1>
		
		[<tag type="if" function="isonsale" display="{OFF}" displayelse="{ON}" />]<!-- Hide this retail price when on sale -->
		<div class="price">[<tag type="if" function="hasmodelsoroptions" display="{ON}" />]<span class="from">[<tag type="label" resourcekey="ProductView.from" />]</span>[<tag type="endif" />][<tag type="price" />]</div>
		[<tag type="endif"  />]
		
		[<tag type="if" function="isonsale" display="{ON}" displayelse="{OFF}" />]<!-- Sale Price -->
    <div class="price">[<tag type="if" function="hasmodelsoroptions" display="{ON}" />]<span class="from">[<tag type="label" resourcekey="ProductView.from" />]</span>[<tag type="endif" />]<span class="old">[<tag type="price" />]</span><span class="sale">[<tag type="saleprice" />]</span></div>
		[<tag type="endif"  />]
		
		[<tag type="if" function="isonsale" display="{ON}" displayelse="{OFF}" />]<!-- Sale flag -->
		<div class="onsaleflag">[<tag type="label" resourcekey="ProductView.onsaleflag" />]</div>
		[<tag type="endif" />]

		[<tag type="if" function="isinstock" testvalue="0" display="{OFF}"/>]<!-- Out of stock flag -->
		<div class="outofstockflag">[<tag type="label" resourcekey="ProductView.outofstockflag" />]</div>
		[<tag type="endif" />]

  [<tag type="if" function="hasmodelsoroptions" display="{ON}" />]
  <a href="[<tag type='entryurl' tabid='{Settings:ddldetailtabid}' xpath='genxml/lang/genxml/textbox/txtproductname' modkey='{Settings:detailmodulekey}' />]" class="classicbutton entryurl">[<tag type="label" resourcekey="ProductView.view" />]</a>
  [<tag type="endif"  />]

  [<tag type="if" function="settings" key="cataloguemode" testvalue="True" display="{OFF}" />]<!-- Catalogue mode -->
  [<tag type="if" function="hasmodelsoroptions" display="{OFF}" />]
  [<tag type="linkbutton" resourcekey="ProductView.addtobasket" cssclass="classicbutton entryurl" commandname="addtobasket" commandargument="ItemID" />]
  [<tag type="endif"  />]
  [<tag type="endif"  />]<!-- End Catalogue mode -->

  </div>

</div>
