<!-- In this template we are using a function defined in nbbajax.js and jquery.genxmlajax.js so include the script here -->
<script type="text/javascript" src="/DesktopModules/NBright/NBrightBuy/Themes/config/js/nbbajax.js"></script>
<script type="text/javascript" src="/DesktopModules/NBright/NBrightBuy/Themes/config/js/jquery.genxmlajax.js"></script>
<script type="text/javascript" src="/DesktopModules/NBright/NBrightBuy/Themes/config/js/productajax.js"></script>


<!-- return field for ajax calls -->
[<tag id="nbxprocessing" type="hidden" />]
[<tag id="nbxaction" type="hidden" />]

<div id="nbsnotify"></div>
<span class="processing" style="display:none;">[<tag type="label" resourcekey="General.ProcessingDiv" />]</span>

<script>
    $(document).ready(function () {
        // start load all ajax data
        nbxget('productmodels', '#productselectparams', 'productmodels', '#productmodels'); // load models
        nbxget('productoptions', '#productselectparams', 'productoptions', '#productoptions'); // load options
        nbxget('productimages', '#productselectparams', 'productimages', '#productimages'); // load images
        nbxget('productdocs', '#productselectparams', 'productdocs', '#productdocs'); // load docs
        nbxget('productcategories', '#productselectparams', 'productcategories', '#productcategories'); // load categories
        nbxget('productrelated', '#productselectparams', 'productrelated', '#productrelated'); // load releated
    });
</script>

<!-- postback fields to keep ajax populated data for update -->
[<tag id="xmlupdatemodeldata" type="postback" value=""/>]
[<tag id="xmlupdateproductoptions" type="postback" value=""/>]
[<tag id="xmlupdateproductoptionvalues" type="postback" value=""/>]
[<tag id="xmlupdateproductimages" type="postback" value=""/>]
[<tag id="xmlupdateproductdocs" type="postback" value=""/>]

<!-- Required: id="productdatasection" -->
<div id="productdatasection">

    <br />
    [<tag id="cmdReturn" type="linkbutton" resourcekey="General.cmdReturn" commandname="return" commandargument="ItemID" />]  
    [<tag id="cmdSave" type="linkbutton" resourcekey="General.cmdSave" commandname="save" commandargument="ItemID" />]  
    <hr/>
    <!-- Required: id="productdata" -->
    <div id="productdata">
        
        <!-- Required: id="productselectparams" -->
        <div id="productselectparams">
            [<tag id="itemid" type="hidden" databind="ItemId" />]
            [<tag id="lang" type="hidden" databind="Lang" />]
            [<tag id="header" type="hidden" value="productlistheader.html"/>]
            [<tag id="body" type="hidden" value="productlistbody.html"/>]
            [<tag id="footer" type="hidden" value="productlistfooter.html"/>]
            [<tag id="orderby" type="hidden" value="order by NB3.productname"/>]
            [<tag id="pagesize" type="hidden" value="30"/>]
            [<tag id="pagenumber" type="hidden" value="1"/>]
            [<tag id="selectedcatid" type="hidden" value=""/>]            
            [<tag id="searchtext" type="hidden" value=""/>]     
            [<tag id="searchcategory" type="hidden" value=""/>]
            [<tag id="selectedoptionid" type="hidden" value=""/>]
            [<tag id="addqty" type="hidden" value=""/>]
        </div>

        <!-- Required for update: fields,localizedfields -->
        [<tag id="fields" type="postback" value="genxml/textbox/txtproductref,genxml/checkbox/chkishidden" />]
        [<tag id="localizedfields" type="postback" value="genxml/textbox/txtproductname,genxml/textbox/txtsummary,genxml/textbox/txtseoname,genxml/textbox/txtseopagetitle,genxml/textbox/txttagwords,genxml/edt/description" />]

        <h2>General</h2>
        ref:   [<tag id="txtproductref" type="textbox" width="300" maxlength="250" />]&nbsp;[<tag type="valueof" databind="ItemId" />]<br />
Name:   [<tag id="txtproductname" type="textbox" width="300" maxlength="250" />]<br />
Summary:   [<tag id="txtsummary" type="textbox" height="100" width="300" maxlength="200" textmode="MultiLine" />]<br/>
seoname:   [<tag id="txtseoname" type="textbox" width="300" maxlength="250" />]<br/>
seopagetitle:   [<tag id="txtseopagetitle" type="textbox" width="300" maxlength="250" />]<br/>
tagwords:   [<tag id="txttagwords" type="textbox" height="100" width="300" maxlength="200" textmode="MultiLine" />]<br/>
Hidden : [<tag id="chkishidden" type="checkbox" Text="" />] <br/>
<hr/>
        <div>[<tag id="description" type="dnn:dnntexteditor" height="400" width="800"  />]</div>
        
        <!-- All "id" for the divs/ul are required for ajax in this section -->
        <h2>Models</h2>
        <a id="addmodels">[<tag type="valueof" resourcekey="General.cmdAdd" />]</a> [<tag id="txtaddmodelqty" type="textbox" width="30" maxlength="2" text="1" />]
        <ul id="productmodels"></ul>
        <h2>Options</h2>
        <div>            
        <div style="float:left;">
        <a id="addopt">[<tag type="valueof" resourcekey="General.cmdAdd" />]</a> [<tag id="txtaddoptqty" type="textbox" width="30" maxlength="2" text="1" />]
        <ul id="productoptions"></ul>                            
        </div>
            <div style="float:left;">
                <span id="optionvaluecontrol" style="display:none;">
                <a id="addoptvalues">[<tag type="valueof" resourcekey="General.cmdAdd" />]</a> [<tag id="txtaddoptvalueqty" type="textbox" width="30" maxlength="2" text="1" />]                    
                </span>
                <ul id="productoptionvalues"></ul>
            </div>
        <div style="clear:both"></div>
        </div>
        <h2>Images</h2>
        <ul id="productimages"></ul>
        <h2>Documents</h2>
        <ul id="productdocs"></ul>
        <h2>Categories</h2>
        <div id="productcategories"></div>
        <h2>Related Products</h2>
        <div id="productrelated"></div>

    </div>
</div>

<!-- All "id" for the divs/ul are required for ajax in this section -->
<div id="productselectsection" style="display:none;">
    <div id="productselectlist">
        
    </div>
</div>